<!-- Navigation Bar -->
<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-logo">
      <a href="/"><i class="fas fa-cube"></i> <span>HackTrack</span></a>
    </div>

    <div class="navbar-links">
      <a href="/problems" class="nav-link">Browse Problems</a>
      <a href="/solutions" class="nav-link">Explore Solutions</a>
      <a href="/problems/new" class="nav-link">Post a Problem</a>
      <a href="/solutions/new" class="nav-link">Post a Solution</a>
      <!-- <a href="#" class="nav-link">My Posts</a> -->
    </div>

    <div class="navbar-search">
      <!-- <div class="search-container">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search" />
      </div> -->
      <% if(!currUser){ %>
      <button class="sign-in-btn"><a href="/signup">Sign In</a></button>
      <button class="sign-in-btn"><a href="/login">Login</a></button>
      <% }else{ %>
      <button class="sign-in-btn"><a href="/logout">Logout</a></button>
      <% } %>
    </div>

    <div class="hamburger mobile-menu-btn">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<div class="mobile-menu">
  <a href="/problems" class="mobile-link">Browse Problems</a>
  <a href="/solutions" class="mobile-link">Explore Solutions</a>
  <a href="/problems/new" class="mobile-link">Post a Problem</a>
  <a href="/solutions/new" class="mobile-link">Post a Solution</a>
  <!-- <a href="#" class="mobile-link">My Posts</a> -->

  <div>
    <button class="mobile-sign-in"><a href="/signup">Signup</a></button>
    <button class="mobile-sign-in"><a href="/login">Login</a></button>
  </div>
</div>

<script>
  // Mobile menu toggle
  const hamburger = document.querySelector(".hamburger");
  const mobileMenu = document.querySelector(".mobile-menu");
  const navbarLinks = document.querySelector(".navbar-links");

  hamburger.addEventListener("click", function () {
    hamburger.classList.toggle("active");
    mobileMenu.classList.toggle("active");
    navbarLinks.classList.toggle("active");
  });

  // Close menu when clicking outside
  document.addEventListener("click", function (event) {
    if (
      !hamburger.contains(event.target) && // Click is not on the hamburger button
      !mobileMenu.contains(event.target) && // Click is not inside the menu
      mobileMenu.classList.contains("active") // Menu is currently open
    ) {
      hamburger.classList.remove("active");
      mobileMenu.classList.remove("active");
      navbarLinks.classList.remove("active");
    }
  });
</script>
